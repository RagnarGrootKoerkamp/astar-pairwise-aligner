[package]
name = "astar-pairwise-aligner"
authors = ["Ragnar Groot Koerkamp", "Pesho Ivanov"]
description = "An exact global pairwise aligner using A* with the [chaining] seed heurstic and match pruning."
version = "0.1.0"
edition = "2021"
repository = "https://github.com/RagnarGrootKoerkamp/astar-pairwise-aligner"
license = "MPL-2.0"
keywords = ["alignment", "edit-distance", "A*", "bioinformatics", "cli"]
readme = "README.org"
categories = ["science"]
default-run = "astar-pairwise-aligner"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
[profile.release]
# 2x smaller file size when 'true', but that takes longer
lto = "thin"
incremental = true
opt-level = 3
debug = true
# 10x smaller file size without debug symbols.
# Breaks backtrace printing.
strip = false

[lib]
crate-type = ["cdylib", "lib"]

[dependencies]
# aligners to compare against
triple_accel = { git="https://github.com/Daniel-Liu-c0deb0t/triple_accel" }
edlib_rs = { git="https://github.com/pairwise-alignment/edlib-rs" }
rust-wfa2 = { git = "https://github.com/pairwise-alignment/rust-wfa2" }

# Libs
colorgrad = "0.6.2"
instant = "0.1.12"
bio = "1.1.0"
rand = "0.8.5"
rand_chacha = "0.3.1"
getrandom = "0.2.8"
itertools = "0.10.5"
rustc-hash = "1.1.0"
clap = { version = "3.0", features = ["derive"] }
lazy_static = "1.4.0"
ropey = { version = "1.5.1", default-features = false, features = ["simd"] }
num-traits = "0.2.15"
parse_duration = "2.1.1"
serde = "1.0.152"
serde_json = "1.0.91"
derive_more = { version = "0.99.17", default-features = false, features = ["add_assign"] }
smallvec = { version = "1.10.0", features = ["union"] }
sdl2 = { version = "0.35.2", features = ["ttf"], optional = true }


# Optional deps for wasm rendering
wasm-bindgen = {version="*", optional=true}
console_error_panic_hook = {version="*", optional=true}
web-sys = { version = "*", optional=true, features = [
"ImageData",
"CanvasRenderingContext2d",
"HtmlCanvasElement",
"console",
"BinaryType", "Blob", "ErrorEvent", "MessageEvent", "ProgressEvent", "WebSocket",
"Document", "Element", "HtmlElement", "Node", "Window", "HtmlInputElement",
"HtmlSelectElement", "HtmlTextAreaElement"
]}


[[example]]
name = "fig_layers"
required-features = ["vis"]


[dev-dependencies]
# For benchmarking only.
aho-corasick = "*"
suffix = "*"

[features]
default = []
#default = ["bin"]

bin = ["vis", "clap/wrap_help"]

# Enable visualizations using sdl2.
vis = ["dep:sdl2"]

# Enable dependencies for compiling to wasm.
wasm = ["dep:wasm-bindgen", "dep:web-sys", "dep:console_error_panic_hook"]
